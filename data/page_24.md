[Skip to content](https://github.com/SunagMP/YouSchool/blob/main/main.py#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FSunagMP%2FYouSchool%2Fblob%2Fmain%2Fmain.py)
Appearance settings
  * Product 
    * [ GitHub Copilot  Write better code with AI  ](https://github.com/features/copilot)
    * [ GitHub Spark  New  Build and deploy intelligent apps  ](https://github.com/features/spark)
    * [ GitHub Models  New  Manage and compare prompts  ](https://github.com/features/models)
    * [ GitHub Advanced Security  Find and fix vulnerabilities  ](https://github.com/security/advanced-security)
    * [ Actions  Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces  Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues  Plan and track work  ](https://github.com/features/issues)
    * [ Code Review  Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions  Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search  Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ Why GitHub ](https://github.com/why-github)
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors  Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project  GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform  AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ GitHub Advanced Security  Enterprise-grade security features  ](https://github.com/security/advanced-security)
    * [ Copilot for business  Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support  Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FSunagMP%2FYouSchool%2Fblob%2Fmain%2Fmain.py)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=SunagMP%2FYouSchool)
Appearance settings
Resetting focus
You signed in with another tab or window. [Reload](https://github.com/SunagMP/YouSchool/blob/main/main.py) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/SunagMP/YouSchool/blob/main/main.py) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/SunagMP/YouSchool/blob/main/main.py) to refresh your session. Dismiss alert
{{ message }}
[ SunagMP ](https://github.com/SunagMP) / **[YouSchool](https://github.com/SunagMP/YouSchool) ** Public
  * [ ](https://github.com/login?return_to=%2FSunagMP%2FYouSchool) You must be signed in to change notification settings
  * [ 0 ](https://github.com/login?return_to=%2FSunagMP%2FYouSchool)
  * [ Star  0 ](https://github.com/login?return_to=%2FSunagMP%2FYouSchool)


  * [ Code ](https://github.com/SunagMP/YouSchool)
  * [ Issues 0 ](https://github.com/SunagMP/YouSchool/issues)
  * [ Pull requests 0 ](https://github.com/SunagMP/YouSchool/pulls)
  * [ Actions ](https://github.com/SunagMP/YouSchool/actions)
  * [ Projects 0 ](https://github.com/SunagMP/YouSchool/projects)
  * [ Security ](https://github.com/SunagMP/YouSchool/security)
[ ](https://github.com/SunagMP/YouSchool/security)
[ ](https://github.com/SunagMP/YouSchool/security)
[ ](https://github.com/SunagMP/YouSchool/security)
### [ Uh oh!  ](https://github.com/SunagMP/YouSchool/security)
[There was an error while loading. ](https://github.com/SunagMP/YouSchool/security)[Please reload this page](https://github.com/SunagMP/YouSchool/blob/main/main.py).
  * [ Insights ](https://github.com/SunagMP/YouSchool/pulse)


Additional navigation options
  * [ Code  ](https://github.com/SunagMP/YouSchool)
  * [ Issues  ](https://github.com/SunagMP/YouSchool/issues)
  * [ Pull requests  ](https://github.com/SunagMP/YouSchool/pulls)
  * [ Actions  ](https://github.com/SunagMP/YouSchool/actions)
  * [ Projects  ](https://github.com/SunagMP/YouSchool/projects)
  * [ Security  ](https://github.com/SunagMP/YouSchool/security)
  * [ Insights  ](https://github.com/SunagMP/YouSchool/pulse)


## Collapse file tree
## Files
main
Search this repository
  * README.md
  * main.py
  * requirements.txt


## Breadcrumbs
  1. [YouSchool](https://github.com/SunagMP/YouSchool/tree/main)


/
# main.py
Copy path
BlameMore file actions
BlameMore file actions
## Latest commit
## History
[History](https://github.com/SunagMP/YouSchool/commits/main/main.py)
[](https://github.com/SunagMP/YouSchool/commits/main/main.py)
173 lines (141 loc) · 7.38 KB
## Breadcrumbs
  1. [YouSchool](https://github.com/SunagMP/YouSchool/tree/main)


/
# main.py
Top
## File metadata and controls
  * Code
  * Blame


173 lines (141 loc) · 7.38 KB
[Raw](https://github.com/SunagMP/YouSchool/raw/refs/heads/main/main.py)
Copy raw file
Download raw file
Open symbols panel
Edit and raw actions
import streamlit as st import tempfile import os from langchain_google_genai import ChatGoogleGenerativeAI, GoogleGenerativeAIEmbeddings from langchain_core.prompts import PromptTemplate from langchain_core.output_parsers import StrOutputParser from langchain_core.runnables import RunnableParallel, RunnableLambda, RunnablePassthrough from langchain_community.document_loaders import YoutubeLoader, PyPDFLoader from langchain.text_splitter import RecursiveCharacterTextSplitter from langchain_chroma import Chroma # Setup API keys and models os.environ["GOOGLE_API_KEY"] = "paste your google api key" model = ChatGoogleGenerativeAI(model='gemini-2.5-pro') e_model = GoogleGenerativeAIEmbeddings(model='models/embedding-001') def till_vector_store(url, pdf_path): if url: loader = YoutubeLoader.from_youtube_url(youtube_url=url, language=["en"]) docs = loader.load() else: loader = PyPDFLoader(file_path=pdf_path) docs = loader.load() splitter = RecursiveCharacterTextSplitter(chunk_size=200, chunk_overlap=20) split_docs = splitter.split_documents(docs) vector_store = Chroma(embedding_function=e_model) vector_store.add_documents(split_docs) return vector_store, split_docs def get_complete_context(top_k_docs): return " ".join([doc.page_content for doc in top_k_docs]) context_runnable = RunnableLambda(get_complete_context) parser = StrOutputParser() # Prompts prompt = PromptTemplate( template= """You are my trainer and your the expert tutor. Help me to answer the below query by only using the below provided pdf_context(notes) and youtube_context, make sure the answers are simple and easy to understand, so that the person with zero knowldge on the topic will also understand always provide the answers in paragraph wise under three sections Notes solution (based on pdf_context), youtube solution(based on youtube_context) and overview (both pdf_context and youtube_context). and then if required mention the necessary using bullet points. and also provide the reference page number from pdf_context that you are using in order to answer the query. after answering, try to provide the human understandable analogy if possible by explicitly mentioning it under 'analogy section' at the end. if the pdf_context is not available then under notes solution section clearly mention 'no such notes context', if the youtube_context is not available then under youtube_context solution section clearly mention 'no such youtube context', If the query is out of context(that is no youtube_context and pdf_context) then you can simply display 'out of context ask question relating to uploaded pdf and url'. query->{query} pdf_context->{pdf_context} youtube_context->{youtube_context} """, input_variables=['query', 'pdf_context', 'youtube_context'] ) quiz_prompt = PromptTemplate( template="""Based on the following pdf content, generate 10 MCQs with 4 options each in different line and provide the correct answer for each question mentioning the question number at the end (that is after displaying all the 10 questions) Content: {pdf_content}""", input_variables=['pdf_content'] ) summary_prompt = PromptTemplate( template="""Summarize this YouTube transcript in detailed format: Transcript: {youtube_content}""", input_variables=['youtube_content'] ) abstract_prompt = PromptTemplate( template="""Extract a topic-wise abstract as bullet points for each topic, separate them under the topic name, by using the provided below content,\ncontent->{pdf_content}""", input_variables=['pdf_content'] ) # --- UI Setup --- st.title("YouSchool") st.header("Your personal study buddy powered by LLMs🤖") # Tabs main_tabs = st.tabs(["Q&A", "Others"]) # Tab 1: Upload & Ask with main_tabs[0]: st.subheader("Upload & Ask Your Question") pdf = st.file_uploader("Upload PDF", type=["pdf"]) url = st.text_input("Paste YouTube URL") query = st.text_input("Ask a question based on the PDF/YouTube:") if st.button("Answer"): if not query or not pdf: st.warning("Please upload a PDF and type a question.") else: with tempfile.NamedTemporaryFile(delete=False, suffix=".pdf") as tmp_file: tmp_file.write(pdf.read()) pdf_path = tmp_file.name st.session_state["pdf_path"] = pdf_path st.session_state["url"] = url pdf_vs, pdf_docs = till_vector_store('', pdf_path) yt_vs, yt_docs = till_vector_store(url, '') st.session_state["pdf_vs"] = pdf_vs st.session_state["yt_vs"] = yt_vs st.session_state["pdf_docs"] = pdf_docs st.session_state["yt_docs"] = yt_docs retr_pdf = pdf_vs.as_retriever(search_kwargs={"k": 5}) retr_yt = yt_vs.as_retriever(search_kwargs={"k": 5}) context_query = RunnableParallel({ 'query': RunnablePassthrough(), 'pdf_context': retr_pdf | context_runnable | parser, 'youtube_context': retr_yt | context_runnable | parser, }) chain = context_query | prompt | model | parser result = chain.invoke(query) st.success(result) with main_tabs[1]: sub_tabs = st.tabs(["Quiz", "Abstract", "YouTube Summary"]) if st.button("Generate All"): with tempfile.NamedTemporaryFile(delete=False, suffix=".pdf") as tmp_file: tmp_file.write(pdf.read()) pdf_path = tmp_file.name st.session_state["pdf_path"] = pdf_path st.session_state["url"] = url pdf_vs, pdf_docs = till_vector_store('', pdf_path) yt_vs, yt_docs = till_vector_store(url, '') st.session_state["pdf_vs"] = pdf_vs st.session_state["yt_vs"] = yt_vs st.session_state["pdf_docs"] = pdf_docs st.session_state["yt_docs"] = yt_docs st.success("Generating.....") with sub_tabs[0]: st.subheader("Generate Quiz (MCQs) from PDF") content = get_complete_context(st.session_state["pdf_docs"]) prompt = quiz_prompt.format(pdf_content=content) chain_1 = model | parser result = chain_1.invoke(prompt) st.write(result) with sub_tabs[1]: st.subheader("Topic-wise Abstract from PDF") content = get_complete_context(st.session_state["pdf_docs"]) prompt = abstract_prompt.format(pdf_content=content) chain_3 = model | parser result = chain_3.invoke(prompt) st.write(result) with sub_tabs[2]: st.subheader("Summarize YouTube Video") yt_content = get_complete_context(st.session_state["yt_docs"]) prompt = summary_prompt.format(youtube_content=yt_content) chain_2 = model | parser result = chain_2.invoke(prompt) st.write(result)
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
## Footer
[ ](https://github.com) © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


